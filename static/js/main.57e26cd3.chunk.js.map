{"version":3,"sources":["images/logo.svg","images/del-icon.svg","components/Header.js","utils/Api.js","components/Card.js","components/Main.js","components/Footer.js","components/PopupWithForm.js","components/ImagePopup.js","components/App.js","index.js"],"names":["module","exports","Header","className","src","logo","alt","api","baseUrl","headersAuthorization","this","_baseUrl","_headersAuthorization","_call","bind","method","action","body","requestData","headers","authorization","JSON","stringify","fetch","then","res","ok","json","Promise","reject","status","cardId","Card","card","onCardClick","name","link","likes","onClick","type","style","backgroundImage","delIcon","length","Main","onEditProfile","onAddPlace","onEditAvatar","React","useState","userName","setUserName","userDescription","setUserDescription","userAvatar","setUserAvatar","cards","setCards","useEffect","all","getUserInfo","getInitialCards","about","avatar","initialCards","catch","err","console","log","map","key","_id","Footer","PopupWithForm","title","isOpen","onClose","children","ImagePopup","App","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setisAddPlacePopupOpen","isEditAvatarPopupOpen","setisEditAvatarPopupOpen","selectedCard","setSelectedCard","closeAllPopups","id","placeholder","minLength","maxLength","required","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.57e26cd3.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.c6f11019.svg\";","module.exports = __webpack_public_path__ + \"static/media/del-icon.4220563a.svg\";","import React from 'react';\nimport logo from '../images/logo.svg';\n\nfunction Header() {\n  return (\n    <header className=\"page__section header\">\n      <img src={logo} className=\"header__logo\" alt=\"Логотип Mesto Russia\" />\n    </header>\n  );\n\n}\n\nexport default Header;\n","class Api {\n  constructor({baseUrl, headersAuthorization}) {\n    this._baseUrl = baseUrl;\n    this._headersAuthorization = headersAuthorization;\n    this._call = this._call.bind(this);\n  }\n\n  // другие методы работы с API\n\n  _call(method, action, body) {\n    const requestData = {\n      method: method,\n      headers: {\n        authorization: this._headersAuthorization,\n        'Content-Type': 'application/json'\n      },\n    };\n    if (body) {\n      requestData.body = JSON.stringify(body);\n    }\n    return fetch(`${this._baseUrl}/${action}`, requestData).then(\n        res => {\n          if (res.ok) {\n            return res.json();\n          }\n          return Promise.reject(`Ошибка: ${res.status}`);\n        }\n      );\n  }\n\n  getUserInfo() {\n    return this._call('GET', 'users/me');\n  }\n\n  updateUserInfo(body) {\n    return this._call('PATCH', 'users/me', body);\n  }\n\n  getInitialCards() {\n    return this._call('GET', 'cards');\n  }\n\n  addCard(body) {\n    return this._call('POST', 'cards', body);\n  }\n\n  deleteCard(cardId) {\n    return this._call('DELETE', `cards/${cardId}`);\n  }\n\n  likeCard(cardId) {\n    return this._call('PUT', `cards/likes/${cardId}`);\n  }\n\n  dislikeCard(cardId) {\n    return this._call('DELETE', `cards/likes/${cardId}`);\n  }\n\n  updateAvatar(body) {\n    return this._call('PATCH', `users/me/avatar`, body);\n  }\n\n}\n\nconst api = new Api({\n  baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-14', \n  headersAuthorization: 'e334a560-7923-4c10-ad97-03986e985b68'\n});\n\nexport default api;\n","import React from 'react';\nimport delIcon from '../images/del-icon.svg';\n\nfunction Card({card, onCardClick}) {\n\n  function handleCardClick() {\n    onCardClick(card);\n  }\n  const {name, link, likes} = card;\n  return (\n    <div className=\"place\">\n      <img src={link} className=\"place__image\" alt=\"\" onClick={handleCardClick} />\n      <button type=\"button\" className=\"place__image-del\" style={{ backgroundImage: `url(${delIcon})` }}></button>\n      <div className=\"place__title\">\n        <h3 className=\"place__title-text\">{name}</h3>\n        <div className=\"place__title-like-block\">\n          <button type=\"button\" className=\"place__title-like\"></button>\n          <h5 className=\"place__title-like-count\">{likes.length}</h5>\n        </div>\n      </div>\n    </div>\n\n  );\n\n}\n\nexport default Card;\n","import React from 'react';\nimport api from '../utils/Api';\nimport Card from './Card';\n\nfunction Main({ onEditProfile, onAddPlace, onEditAvatar, onCardClick}) {\n  const [userName, setUserName] = React.useState('');\n  const [userDescription, setUserDescription] = React.useState('');\n  const [userAvatar, setUserAvatar] = React.useState('');\n  const [cards, setCards] = React.useState([]);\n\n  React.useEffect(() => {\n    Promise.all([\n      api.getUserInfo(),\n      api.getInitialCards(),\n    ])\n    .then(([{name, about, avatar}, initialCards]) => {\n      setUserName(name)\n      setUserDescription(about)\n      setUserAvatar(avatar)\n      setCards(initialCards)\n    })\n    .catch((err) => {\n      // попадаем сюда если один из промисов завершится ошибкой\n      console.log(err);\n    })\n\n  }, []);\n\n  return (\n    <>\n      <section className=\"profile page__section\">\n        <button className=\"profile__photo\" onClick={onEditAvatar}\n          style={{ backgroundImage: `url(${userAvatar})` }}\n        ></button>\n        <div className=\"profile__info\">\n          <div className=\"profile__title\">\n            <h1 className=\"profile__full-name\">{userName}</h1>\n            <button type=\"button\" className=\"profile__edit-button\" onClick={onEditProfile}></button>\n          </div>\n          <p className=\"profile__profession\">{userDescription}</p>\n        </div>\n        <button type=\"button\" className=\"profile__add-button\" onClick={onAddPlace}></button>\n      </section>\n\n      <section className=\"places page__section\">\n        {\n          cards.map(\n            (card) => <Card card={card} onCardClick={onCardClick} key={card._id}/>\n          ) \n        }\n      </section>\n    </>\n  );\n\n\n\n}\n\nexport default Main;\n","import React from 'react';\n\nfunction Footer() {\n  return (\n      <footer className=\"footer page__section\">\n        <p className=\"footer__copyright\">&copy; 2020 Mesto Russia</p>\n\n      </footer>\n  );\n\n}\n\nexport default Footer;\n","import React from 'react';\n\nfunction PopupWithForm({\n  title,\n  name,\n  isOpen,\n  onClose,\n  children\n}) {\n  return (\n    <div className={`popup ${isOpen ? 'popup_opened' : 'popup_closed' }  popup_${name}`}>\n        <div className=\"popup-container popup__container\">\n          <form className={`popup__form popup__form-edit_${name}`} name={name} action=\"#\" method=\"GET\">\n            <h4 className=\"popup__header\">{title}</h4>\n            {children}\n            <button className=\"popup__button-save\" type=\"submit\">Сохранить</button>\n          </form>\n          <button type=\"button\" className=\"popup__button-close\" onClick={onClose}></button>\n        </div>\n      </div>\n  );\n\n}\n\nexport default PopupWithForm;\n","import React from 'react';\n\nfunction ImagePopup({\n  card,\n  onClose\n}) {\n  return (\n      <div className={`popup-preview ${card ? 'popup_opened' : 'popup_closed' }`}>\n        <div className=\"popup-container popup-preview__container\">\n          <img src={card.link} className=\"popup-preview__image\" alt=\"\" />\n          <button type=\"button\" className=\"popup__button-close\" onClick={onClose}></button>\n          <p className=\"popup-preview__description\">{card.name}</p>\n        </div>\n      </div>\n  );\n\n}\n\nexport default ImagePopup;\n","import React from 'react';\n\nimport Header from './Header';\nimport Main from './Main';\nimport Footer from './Footer';\nimport PopupWithForm from './PopupWithForm';\nimport ImagePopup from './ImagePopup';\n\nfunction App() {\n\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(false);\n  const [isAddPlacePopupOpen, setisAddPlacePopupOpen] = React.useState(false);\n  const [isEditAvatarPopupOpen, setisEditAvatarPopupOpen] = React.useState(false);\n\n  const [selectedCard, setSelectedCard] = React.useState(false);\n\n  function handleEditAvatarClick() {\n    setisEditAvatarPopupOpen(true);\n  };\n\n  function handleEditProfileClick() {\n    setIsEditProfilePopupOpen(true);\n  };\n\n  function handleAddPlaceClick() {\n    setisAddPlacePopupOpen(true);\n  };\n\n  function closeAllPopups() {\n    setisEditAvatarPopupOpen(false);\n    setIsEditProfilePopupOpen(false);\n    setisAddPlacePopupOpen(false);\n    setSelectedCard(false);\n  };\n\n  function handleCardClick(card) {\n    setSelectedCard(card);\n  }\n\n\n  return (\n    <div className=\"page\">\n      <Header />\n      <Main\n        onEditProfile={handleEditProfileClick}\n        onAddPlace={handleAddPlaceClick}\n        onEditAvatar={handleEditAvatarClick}\n        onCardClick={handleCardClick}\n      />\n      <Footer />\n\n      <PopupWithForm title=\"Редактировать профиль\" name=\"profile\" isOpen={isEditProfilePopupOpen} onClose={closeAllPopups}>\n        <input id=\"popup-input-full-name\" className=\"popup__input popup__input_full-name\"\n          name=\"name\" type=\"text\" placeholder=\"Имя пользователя\"\n          minLength=\"2\" maxLength=\"40\" required\n        />\n        <span id=\"popup-input-full-name-error\" className=\"popup__input-error\"></span>\n        <input id=\"popup-input-profession\" className=\"popup__input popup__input_profession\"\n          name=\"profession\" type=\"text\" placeholder=\"Профессия\"\n          minLength=\"2\" maxLength=\"200\" required\n        />\n        <span id=\"popup-input-profession-error\" className=\"popup__input-error\"></span>\n      </PopupWithForm>\n\n      <PopupWithForm title=\"Новое место\" name=\"add-card\" isOpen={isAddPlacePopupOpen} onClose={closeAllPopups}>\n        <input id=\"popup-input-place-name\" className=\"popup__input popup__input_place-name\"\n          name=\"popup__input_place-name\" type=\"text\" placeholder=\"Название\"\n          minLength=\"1\" maxLength=\"30\" required\n        />\n        <span id=\"popup-input-place-name-error\" className=\"popup__input-error\"></span>\n        <input id=\"popup-input-place-image-link\" className=\"popup__input popup__input_place-image-link\"\n          name=\"popup__input_place-image-link\" type=\"url\"\n          placeholder=\"Ссылка на картинку\" required\n        />\n        <span id=\"popup-input-place-image-link-error\" className=\"popup__input-error\"></span>\n      </PopupWithForm>\n\n      <PopupWithForm title=\"Обновить аватар\" name=\"update-avatar\" isOpen={isEditAvatarPopupOpen} onClose={closeAllPopups}>\n        <input id=\"popup-input-avatar-image-link\" className=\"popup__input popup__input_update-avatar-link\"\n          name=\"popup__input_update-avatar-link\" type=\"url\"\n            placeholder=\"Ссылка на аватар\" required\n        />\n        <span id=\"popup-input-avatar-image-link-error\" className=\"popup__input-error\"></span>\n      </PopupWithForm>\n\n      <ImagePopup card={selectedCard} onClose={closeAllPopups}/>\n\n\n      <div className=\"popup popup_closed popup_confirm\">\n        <div className=\"popup-container popup__container\">\n          <form className=\"popup__form popup__form-confirm\" name=\"confirm\" action=\"#\" method=\"POST\">\n            <h4 className=\"popup__header popup__header_confirm\">Вы уверены?</h4>\n            <button className=\"popup__button-yes\" type=\"submit\">Да</button>\n          </form>\n          <button type=\"button\" className=\"popup__button-close\"></button>\n        </div>\n      </div>\n\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\n// serviceWorker.unregister();\n"],"sourceRoot":""}