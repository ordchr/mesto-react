{"version":3,"sources":["images/del-icon.svg","components/Header.js","utils/Api.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/ImagePopup.js","components/FormValidator.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/App.js","index.js","images/logo.svg"],"names":["module","exports","Header","className","src","logo","alt","api","baseUrl","headersAuthorization","this","_baseUrl","_headersAuthorization","_call","bind","method","action","body","requestData","headers","authorization","JSON","stringify","fetch","then","res","ok","json","Promise","reject","status","cardId","newStatus","likeCard","dislikeCard","CurrentUserContext","React","createContext","Card","card","onCardClick","onCardLike","onCardDelete","currentUser","useContext","name","link","likes","isOwn","owner","_id","cardDeleteButtonClassName","isLiked","some","i","cardLikeButtonClassName","onClick","type","style","backgroundImage","delIcon","length","Main","onEditProfile","onAddPlace","onEditAvatar","cards","avatar","about","map","key","Footer","ImagePopup","onClose","imagePreviewContainer","useRef","Object","keys","ref","onLoad","e","current","width","target","offsetWidth","height","offsetHeight","FormValidator","options","validatedForm","_inputSelector","inputSelector","_submitButtonSelector","submitButtonSelector","_inactiveButtonClass","inactiveButtonClass","_inputErrorClass","inputErrorClass","_errorClass","errorClass","_validatedForm","_inputList","Array","from","querySelectorAll","_buttonElement","querySelector","_formInputs","_formButtonSave","forEach","inputElement","addEventListener","isValid","_toggleButtonState","validity","valid","_hideInputError","_showInputError","_hasInvalidInput","classList","add","remove","inputList","item","errorMessage","errorElement","id","textContent","validationMessage","_validateForm","_setEventListeners","value","PopupWithForm","title","isOpen","onSubmit","children","useEffect","popupForm","document","formSelector","enableValidation","EditProfilePopup","props","handleInputChange","handleSubmit","prevContext","state","context","setState","description","preventDefault","onUpdateUser","placeholder","minLength","maxLength","required","onChange","Component","contextType","EditAvatarPopup","onUpdateAvatar","avatarRef","avatarLink","AddPlacePopup","newPlaceName","newPlaceLink","App","useState","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setisAddPlacePopupOpen","isEditAvatarPopupOpen","setisEditAvatarPopupOpen","selectedCard","setSelectedCard","setCurrentUser","getUserInfo","userInfo","console","log","setCards","closeAllPopups","all","getInitialCards","initialCards","catch","err","Provider","changeLikeStatus","newCard","newCards","c","deleteCard","_","filter","updateUserInfo","addCard","updateAvatar","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.23d71708.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/del-icon.4220563a.svg\";","import React from 'react';\nimport logo from '../images/logo.svg';\n\nfunction Header() {\n  return (\n    <header className=\"page__section header\">\n      <img src={logo} className=\"header__logo\" alt=\"Логотип Mesto Russia\" />\n    </header>\n  );\n\n}\n\nexport default Header;\n","class Api {\n  constructor({baseUrl, headersAuthorization}) {\n    this._baseUrl = baseUrl;\n    this._headersAuthorization = headersAuthorization;\n    this._call = this._call.bind(this);\n  }\n\n  // другие методы работы с API\n\n  _call(method, action, body) {\n    const requestData = {\n      method: method,\n      headers: {\n        authorization: this._headersAuthorization,\n        'Content-Type': 'application/json'\n      },\n    };\n    if (body) {\n      requestData.body = JSON.stringify(body);\n    }\n    return fetch(`${this._baseUrl}/${action}`, requestData).then(\n        res => {\n          if (res.ok) {\n            return res.json();\n          }\n          return Promise.reject(`Ошибка: ${res.status}`);\n        }\n      );\n  }\n\n  getUserInfo() {\n    return this._call('GET', 'users/me');\n  }\n\n  updateUserInfo(body) {\n    return this._call('PATCH', 'users/me', body);\n  }\n\n  getInitialCards() {\n    return this._call('GET', 'cards');\n  }\n\n  addCard(body) {\n    return this._call('POST', 'cards', body);\n  }\n\n  deleteCard(cardId) {\n    return this._call('DELETE', `cards/${cardId}`);\n  }\n\n  likeCard(cardId) {\n    return this._call('PUT', `cards/likes/${cardId}`);\n  }\n\n  dislikeCard(cardId) {\n    return this._call('DELETE', `cards/likes/${cardId}`);\n  }\n\n  updateAvatar(body) {\n    return this._call('PATCH', `users/me/avatar`, body);\n  }\n\n  changeLikeStatus(cardId, newStatus) {\n    if (newStatus) {\n      return this.likeCard(cardId)\n    } else {\n      return this.dislikeCard(cardId)\n    }\n  }\n\n}\n\nconst api = new Api({\n  baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-14', \n  headersAuthorization: 'e334a560-7923-4c10-ad97-03986e985b68'\n});\n\nexport default api;\n","import React from 'react';\n\nexport const CurrentUserContext = React.createContext();\n\n\n","import React from 'react';\nimport delIcon from '../images/del-icon.svg';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nfunction Card({card, onCardClick, onCardLike, onCardDelete}) {\n\n  const currentUser = React.useContext(CurrentUserContext);\n\n  function handleCardClick() {\n    onCardClick(card);\n  }\n\n  function handleLikeClick() {\n    onCardLike(card);\n  }\n\n  function handleCardDelete() {\n    onCardDelete(card);\n  }\n\n  const {name, link, likes} = card;\n\n  const isOwn = card.owner._id === currentUser._id;\n\n  const cardDeleteButtonClassName = (\n    `place__image-del ${isOwn ? '' : 'place__image-del_hidden'}`\n  );\n\n  const isLiked = card.likes.some( i => i._id === currentUser._id);\n  const cardLikeButtonClassName = `place__title-like ${isLiked ? 'place__title-like_selected' : ''}`;\n\n  return (\n    <div className=\"place\">\n      <img src={link} className=\"place__image\" alt=\"\" onClick={handleCardClick} />\n      <button type=\"button\" className={cardDeleteButtonClassName} style={{ backgroundImage: `url(${delIcon})` }} onClick={handleCardDelete} />\n      <div className=\"place__title\">\n        <h3 className=\"place__title-text\">{name}</h3>\n        <div className=\"place__title-like-block\">\n          <button type=\"button\" className={cardLikeButtonClassName} onClick={handleLikeClick}/>\n            <h5 className=\"place__title-like-count\">{likes.length}</h5>\n        </div>\n      </div>\n    </div>\n\n  );\n\n}\n\nexport default Card;\n","import React from 'react';\nimport api from '../utils/Api';\nimport Card from './Card';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nfunction Main({ onEditProfile, onAddPlace, onEditAvatar, onCardClick, onCardLike, onCardDelete, cards}) {\n\n  const currentUser = React.useContext(CurrentUserContext);\n\n  return (\n    <>\n      <section className=\"profile page__section\">\n        <button className=\"profile__photo\" onClick={onEditAvatar}\n          style={{ backgroundImage: `url(${currentUser.avatar})` }}\n        />\n        <div className=\"profile__info\">\n          <div className=\"profile__title\">\n            <h1 className=\"profile__full-name\">{currentUser.name}</h1>\n            <button type=\"button\" className=\"profile__edit-button\" onClick={onEditProfile} />\n          </div>\n          <p className=\"profile__profession\">{currentUser.about}</p>\n        </div>\n        <button type=\"button\" className=\"profile__add-button\" onClick={onAddPlace} />\n      </section>\n\n      <section className=\"places page__section\">\n        {\n          cards.map(\n            (card) => <Card \n              card={card} \n              onCardClick={onCardClick} \n              onCardLike={onCardLike} \n              onCardDelete={onCardDelete}\n              key={card._id}\n            />\n          ) \n        }\n      </section>\n    </>\n  );\n\n\n\n}\n\nexport default Main;\n","import React from 'react';\n\nfunction Footer() {\n  return (\n      <footer className=\"footer page__section\">\n        <p className=\"footer__copyright\">&copy; 2020 Mesto Russia</p>\n\n      </footer>\n  );\n\n}\n\nexport default Footer;\n","import React, {useRef} from 'react';\n\nfunction ImagePopup({\n  card,\n  onClose\n}) {\n    const imagePreviewContainer = useRef();\n    return (\n        <div className={`popup-preview ${Object.keys(card).length === 0 ? 'popup_closed' : 'popup_opened' }`}>\n            <div className=\"popup-container popup-preview__container\" ref={imagePreviewContainer}>\n                <img src={card.link} className=\"popup-preview__image\" alt=\"\"\n                    onLoad = {\n                        e => {\n                            imagePreviewContainer.current.style.width = `${e.target.offsetWidth}px`\n                            imagePreviewContainer.current.style.height = `${e.target.offsetHeight}px`\n                        }\n                    }\n                />\n                <button type=\"button\" className=\"popup__button-close\" onClick={onClose} />\n                <p className=\"popup-preview__description\">{card.name}</p>\n            </div>\n        </div>\n    );\n\n}\n\nexport default ImagePopup;\n","class FormValidator {\n  constructor(options, validatedForm) {\n    this._inputSelector = options.inputSelector;\n    this._submitButtonSelector = options.submitButtonSelector;\n    this._inactiveButtonClass = options.inactiveButtonClass;\n    this._inputErrorClass = options.inputErrorClass;\n    this._errorClass = options.errorClass;\n    this._validatedForm = validatedForm;\n\n    this._inputList = Array.from(validatedForm.querySelectorAll(this._inputSelector))\n    this._buttonElement = validatedForm.querySelector(this._submitButtonSelector);\n\n    this._formInputs = validatedForm.querySelectorAll('.popup__input');\n    this._formButtonSave = validatedForm.querySelector('.popup__button-save');\n\n  }\n\n  _setEventListeners() {\n    this._inputList.forEach((inputElement) => {\n      inputElement.addEventListener('input', () => {\n        this.isValid(inputElement)\n        this._toggleButtonState();\n      });\n    });\n  }\n\n  isValid(inputElement) {\n    if (!inputElement.validity.valid) {\n      this._showInputError(inputElement);\n    } else {\n      this._hideInputError(inputElement);\n    }\n\n  }\n\n  _toggleButtonState() {\n    // Если есть хотя бы один невалидный инпут\n    if (this._hasInvalidInput(this._inputList)) {\n      // сделай кнопку неактивной\n      this._buttonElement.classList.add(this._inactiveButtonClass);\n    } else {\n      // иначе сделай кнопку активной\n      this._buttonElement.classList.remove(this._inactiveButtonClass);\n    }\n\n  }\n\n  _hasInvalidInput(inputList) {\n    return inputList.some((item) => {\n      return !item.validity.valid;\n    })\n  }\n\n  _showInputError(inputElement, errorMessage) {\n    // Находим элемент ошибки внутри самой функции\n    const errorElement = this._validatedForm.querySelector(`#${inputElement.id}-error`);\n    inputElement.classList.add(this._inputErrorClass);\n    errorElement.classList.add(this._errorClass);\n    errorElement.textContent = inputElement.validationMessage;\n  };\n\n\n  _hideInputError(inputElement) {\n    // Находим элемент ошибки\n    const errorElement = this._validatedForm.querySelector(`#${inputElement.id}-error`);\n    inputElement.classList.remove(this._inputErrorClass);\n    errorElement.classList.remove(this._errorClass);\n    errorElement.textContent = '';\n  };\n\n  _validateForm() {\n    this._toggleButtonState();\n    this._inputList.forEach((inputElement) => {\n      this.isValid(inputElement);\n    });\n  }\n\n  validateForm() {\n    this._validateForm();\n  }\n  \n  enableValidation() {\n    this._setEventListeners();\n  }\n\n  // Очистить поля ввода формы и сделать кнопку неактивной\n  prepareClearForm() {\n    this._formInputs.forEach((inputElement) => {\n      inputElement.value = '';\n    });\n    this._formButtonSave.classList.add(this._inactiveButtonClass);\n  }\n\n}\n\nexport default FormValidator;\n","import React, { useEffect } from 'react';\nimport FormValidator from './FormValidator';\n\nfunction PopupWithForm({\n  title,\n  name,\n  isOpen,\n  onClose,\n  onSubmit,\n  children\n}) {\n\n  useEffect(() => {\n\n    const validateOptions = {\n      formSelector: '.popup__form',\n      inputSelector: '.popup__input',\n      submitButtonSelector: '.popup__button-save',\n      inactiveButtonClass: 'popup__button-save_inactive',\n      inputErrorClass: 'popup__input_type_error',\n      errorClass: 'popup__input-error_active'\n    };\n\n    const popupForm = document.querySelector(`.popup_${name}`);\n    const formValidator = new FormValidator(validateOptions, popupForm);\n    formValidator.enableValidation();\n  }, []);\n\n  return (\n    <div className={`popup ${isOpen ? 'popup_opened' : 'popup_closed' }  popup_${name}`}>\n        <div className=\"popup-container popup__container\">\n          <form className={`popup__form popup__form-edit_${name}`} name={name} action=\"#\" method=\"GET\" onSubmit={onSubmit}>\n            <h4 className=\"popup__header\">{title}</h4>\n            {children}\n            <button className=\"popup__button-save\" type=\"submit\">Сохранить</button>\n          </form>\n          <button type=\"button\" className=\"popup__button-close\" onClick={onClose} />\n        </div>\n      </div>\n  );\n\n}\n\nexport default PopupWithForm;\n","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nexport class EditProfilePopup extends React.Component {\n\n  static contextType = CurrentUserContext;\n\n  constructor (props) {\n    super(props);\n\n    this.props = props;\n    this.handleInputChange = this.handleInputChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.prevContext = null;\n\n    this.state = {\n      name: '',\n      about: ''\n    };\n  }\n\n  componentDidMount() {\n    this.prevContext = this.context;\n  }\n\n  componentDidUpdate() {\n    if (this.prevContext._id !== this.context._id) {\n      this.setState({\n        name: this.context.name,\n        description: this.context.about\n      });\n      this.prevContext = this.context;\n    }\n  }\n\n  handleInputChange (e) {\n    const name = e.target.name;\n    this.setState({\n      [name]: e.target.value\n    });\n  }\n\n  handleSubmit (e) {\n    e.preventDefault();\n    this.props.onUpdateUser({\n      name: this.state.name,\n      about: this.state.description\n    });\n    this.props.onClose();\n  }\n\n  render () {\n    return (\n        <PopupWithForm\n          title=\"Редактировать профиль\"\n          name=\"profile\"\n          isOpen={this.props.isOpen}\n          onClose={this.props.onClose}\n          onSubmit={this.handleSubmit}\n        >\n          <input id=\"popup-input-full-name\" className=\"popup__input popup__input_full-name\"\n            name=\"name\" type=\"text\" placeholder=\"Имя пользователя\"\n            minLength=\"2\" maxLength=\"40\" required value={this.state.name || ''} onChange={this.handleInputChange}\n          />\n          <span id=\"popup-input-full-name-error\" className=\"popup__input-error\" />\n          <input id=\"popup-input-profession\" className=\"popup__input popup__input_profession\"\n            name=\"description\" type=\"text\" placeholder=\"Профессия\"\n            minLength=\"2\" maxLength=\"200\" required value={this.state.description || ''} onChange={this.handleInputChange}\n          />\n          <span id=\"popup-input-profession-error\" className=\"popup__input-error\" />\n        </PopupWithForm>\n    );\n  }\n\n}\n\n// EditProfilePopup.contextType = CurrentUserContext;\n\nexport default EditProfilePopup;\n","import React, {useRef} from 'react';\nimport PopupWithForm from './PopupWithForm';\n\nfunction EditAvatarPopup ({isOpen, onClose, onUpdateAvatar}) {\n\n  const avatarRef = useRef();\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n\n    onUpdateAvatar({\n      avatarLink: avatarRef.current.value\n    });\n    onClose();\n  }\n\n  return (\n        <PopupWithForm title=\"Обновить аватар\" name=\"update-avatar\" isOpen={isOpen} onClose={onClose} onSubmit={handleSubmit}>\n          <input id=\"popup-input-avatar-image-link\" className=\"popup__input popup__input_update-avatar-link\"\n            name=\"popup__input_update-avatar-link\" type=\"url\"\n            placeholder=\"Ссылка на аватар\" required ref={avatarRef}\n          />\n          <span id=\"popup-input-avatar-image-link-error\" className=\"popup__input-error\" />\n        </PopupWithForm>\n  );\n}\n\n\nexport default EditAvatarPopup;\n","import React, {useRef} from 'react';\nimport PopupWithForm from './PopupWithForm';\n\nfunction AddPlacePopup ({isOpen, onClose, onAddPlace}) {\n\n  const newPlaceName = useRef();\n  const newPlaceLink = useRef();\n\n  function handleSubmit (e) {\n    e.preventDefault();\n\n    onAddPlace({\n      name: newPlaceName.current.value,\n      link: newPlaceLink.current.value\n    });\n\n    onClose();\n    newPlaceName.current.value = '';\n    newPlaceLink.current.value = '';\n  }\n\n  return (\n        <PopupWithForm \n          title=\"Новое место\" \n          name=\"add-card\" \n          isOpen={isOpen} \n          onClose={onClose} \n          onSubmit={handleSubmit}\n        >\n          <input id=\"popup-input-place-name\" className=\"popup__input popup__input_place-name\"\n            name=\"popup__input_place-name\" type=\"text\" placeholder=\"Название\"\n            minLength=\"1\" maxLength=\"30\" required ref={newPlaceName}\n          />\n          <span id=\"popup-input-place-name-error\" className=\"popup__input-error\" />\n          <input id=\"popup-input-place-image-link\" className=\"popup__input popup__input_place-image-link\"\n            name=\"popup__input_place-image-link\" type=\"url\"\n            placeholder=\"Ссылка на картинку\" required ref={newPlaceLink}\n          />\n          <span id=\"popup-input-place-image-link-error\" className=\"popup__input-error\" />\n        </PopupWithForm>\n  )\n\n}\n\nexport default AddPlacePopup;\n","import React from 'react';\n\nimport Header from './Header';\nimport Main from './Main';\nimport Footer from './Footer';\nimport ImagePopup from './ImagePopup';\nimport api from '../utils/Api';\nimport EditProfilePopup from './EditProfilePopup';\nimport EditAvatarPopup from './EditAvatarPopup';\nimport AddPlacePopup from './AddPlacePopup';\n\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nfunction App() {\n\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(false);\n  const [isAddPlacePopupOpen, setisAddPlacePopupOpen] = React.useState(false);\n  const [isEditAvatarPopupOpen, setisEditAvatarPopupOpen] = React.useState(false);\n\n  const [selectedCard, setSelectedCard] = React.useState({});\n\n  const [currentUser, setCurrentUser] = React.useState({});\n\n\n  React.useEffect(() => {\n    api.getUserInfo()\n      .then(userInfo => {\n        setCurrentUser(userInfo);\n        console.log('get user info');\n      })\n\n  }, [])\n\n  const [cards, setCards] = React.useState([]);\n\n  React.useEffect(() => {\n    Promise.all([\n      api.getInitialCards(),\n    ])\n    .then(([initialCards]) => {\n      setCards(initialCards)\n    })\n    .catch((err) => {\n      // попадаем сюда если один из промисов завершится ошибкой\n      console.log(err);\n    })\n\n  }, []);\n\n  const handleCardLike = (card) => {\n    const isLiked = card.likes.some( i => i._id === currentUser._id);\n    api.changeLikeStatus(card._id, !isLiked)\n      .then(newCard => {\n        const newCards = cards.map(c => c._id === card._id ? newCard : c)\n        setCards(newCards);\n      })\n      .catch(err => {\n        console.log(err);\n      })\n  }\n\n  const handleCardDelete = (card) => {\n    api.deleteCard(card._id)\n      .then(_ => {\n        const newCards = cards.filter(c => c._id !== card._id)\n        setCards(newCards);\n      })\n      .catch(err => {\n        console.log(err);\n      })\n  }\n\n\n  function handleEditAvatarClick() {\n    setisEditAvatarPopupOpen(true);\n  }\n\n  function handleEditProfileClick() {\n    setIsEditProfilePopupOpen(true);\n  }\n\n  function handleAddPlaceClick() {\n    setisAddPlacePopupOpen(true);\n  }\n\n  function closeAllPopups() {\n    setisEditAvatarPopupOpen(false);\n    setIsEditProfilePopupOpen(false);\n    setisAddPlacePopupOpen(false);\n    setSelectedCard({});\n  }\n\n  function handleCardClick(card) {\n    setSelectedCard(card);\n  }\n\n  function handleUpdateUser(userInfo) {\n    console.log(userInfo);\n    api.updateUserInfo(userInfo)\n      .then(userInfo => {\n        setCurrentUser(userInfo);\n      })\n      .catch(err => {\n        console.log(err);\n      });\n  }\n\n  function handleUpdateAvatar({avatarLink}) {\n    api.updateAvatar({avatar: avatarLink})\n      .then(userInfo => {\n        setCurrentUser(userInfo);\n      })\n      .catch(err => {\n        console.log(err);\n      });\n  }\n\n  function handleAddPlaceSubmit (newCard) {\n    api.addCard(newCard)\n      .then(newCard => {\n        console.log(newCard);\n        setCards([...cards, newCard]);\n      })\n      .catch(err => {\n        console.log(err);\n      });\n  }\n\n\n  return (\n    <div className=\"page\">\n      <CurrentUserContext.Provider value={currentUser}>\n        <Header />\n        <Main\n          onEditProfile={handleEditProfileClick}\n          onAddPlace={handleAddPlaceClick}\n          onEditAvatar={handleEditAvatarClick}\n          onCardClick={handleCardClick}\n          onCardLike={handleCardLike}\n          onCardDelete={handleCardDelete}\n          cards={cards}\n        />\n        <Footer />\n\n        <EditProfilePopup isOpen={isEditProfilePopupOpen} onClose={closeAllPopups} onUpdateUser={handleUpdateUser}/> \n\n        <AddPlacePopup isOpen={isAddPlacePopupOpen} onClose={closeAllPopups} onAddPlace={handleAddPlaceSubmit} />\n\n        <EditAvatarPopup isOpen={isEditAvatarPopupOpen} onClose={closeAllPopups} onUpdateAvatar={handleUpdateAvatar} />\n\n        <ImagePopup card={selectedCard} onClose={closeAllPopups} />\n\n\n        <div className=\"popup popup_closed popup_confirm\">\n          <div className=\"popup-container popup__container\">\n            <form className=\"popup__form popup__form-confirm\" name=\"confirm\" action=\"#\" method=\"POST\">\n              <h4 className=\"popup__header popup__header_confirm\">Вы уверены?</h4>\n              <button className=\"popup__button-yes\" type=\"submit\">Да</button>\n            </form>\n            <button type=\"button\" className=\"popup__button-close\" />\n          </div>\n        </div>\n\n      </CurrentUserContext.Provider>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\n// serviceWorker.unregister();\n","module.exports = __webpack_public_path__ + \"static/media/logo.c6f11019.svg\";"],"sourceRoot":""}